<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏูุฑู ุงููุจุงุดุฑ</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body style="background:#0f172a; color:white; font-family:sans-serif; text-align:center; padding:20px;">

    <div id="loader">๐ ุฌุงุฑู ุงูุงุชุตุงู... ุฅุฐุง ุทููู ุงูุชุญุฏูุซ ูุนูู ููู ูุดููุฉ ูู Rules</div>
    
    <div id="content" style="display:none;">
        <h1>๐ ุฏูุฑู ุงูุซูุงุซุฉ</h1>
        <div id="matches"></div>
    </div>

<script>
    const config = {
        apiKey: "AIzaSyA_s2HoKKxwXELNHEmti_RsvA_nP6fmWP8",
        databaseURL: "https://nhffbjhh-default-rtdb.firebaseio.com",
        projectId: "nhffbjhh",
        appId: "1:779073349880:web:9cd7adb0ed3c628546b30d"
    };
    firebase.initializeApp(config);
    const db = firebase.database().ref('league_v1');

    db.on('value', (snap) => {
        document.getElementById('loader').style.display = 'none';
        document.getElementById('content').style.display = 'block';
        const data = snap.val() || { matches: [{h:"ุฃุญูุฏ", a:"ูุดุนู", sh:"", sa:""}] };
        let html = "";
        data.matches.forEach((m, i) => {
            html += `<div style="margin:10px; background:#1e293b; padding:10px; border-radius:10px;">
                ${m.h} <input id="h${i}" type="number" value="${m.sh}" style="width:40px"> : 
                <input id="a${i}" type="number" value="${m.sa}" style="width:40px"> ${m.a}
                <button onclick="save(${i})" style="background:green; color:white; border:none; padding:5px; border-radius:5px; margin-right:10px;">ุญูุธ</button>
            </div>`;
        });
        document.getElementById('matches').innerHTML = html;
    });

    function save(i) {
        const sh = document.getElementById(`h${i}`).value;
        const sa = document.getElementById(`a${i}`).value;
        db.child('matches').child(i).update({ sh, sa }).then(() => alert("ุญููุธุช ุจูุฌุงุญ!"));
    }
</script>
</body>
</html>
