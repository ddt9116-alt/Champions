<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏูุฑู ุงููุญุชุฑููู ุงูุซูุงุซู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #f0f2f5; }
        .stat-card { transition: all 0.3s ease; }
        .stat-card:hover { transform: translateY(-5px); }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-4xl mx-auto">
        <div class="text-center mb-10">
            <h1 class="text-4xl font-black text-indigo-900 mb-2">๐ ูุธุงู ุงูุจุทููุฉ ุงูุซูุงุซูุฉ ุงููุทูุฑ</h1>
            <p class="text-slate-600 font-bold">ุฃุญูุฏ โข ูุดุนู โข ููุตู</p>
        </div>

        <div class="bg-indigo-900 text-white p-6 rounded-3xl shadow-xl mb-8">
            <h2 class="text-xl font-bold mb-4 border-b border-indigo-400 pb-2">๐๏ธ ุงูุณุฌู ุงูุชุงุฑูุฎู ููุฃุจุทุงู</h2>
            <div id="hallOfFame" class="grid grid-cols-3 gap-4 text-center">
                </div>
        </div>

        <div class="bg-white p-6 rounded-3xl shadow-lg mb-8 overflow-hidden">
            <h2 class="text-2xl font-bold mb-6 text-slate-800 flex items-center gap-2">๐ ุฌุฏูู ุงูุชุฑุชูุจ ุงูุนุงู</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-center border-collapse">
                    <thead>
                        <tr class="bg-slate-100 text-slate-600 uppercase text-sm">
                            <th class="p-4">ุงูุชุฑุชูุจ</th>
                            <th class="p-4 text-right">ุงููุงุนุจ</th>
                            <th class="p-4">ูุนุจ</th>
                            <th class="p-4">ููุฒ</th>
                            <th class="p-4">ุชุนุงุฏู</th>
                            <th class="p-4">ูู</th>
                            <th class="p-4">ุนููู</th>
                            <th class="p-4">ุงููุงุฑู</th>
                            <th class="p-4 font-bold text-indigo-600 text-lg text-lg">ุงูููุงุท</th>
                        </tr>
                    </thead>
                    <tbody id="leagueBody" class="divide-y divide-slate-100">
                        </tbody>
                </table>
            </div>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-white p-6 rounded-3xl shadow-md border border-slate-100">
                <h2 class="text-xl font-bold mb-6 text-slate-800">โฝ ุชุณุฌูู ูุชุงุฆุฌ ุงูุฏูุฑู</h2>
                <div id="matchesList" class="space-y-4">
                    </div>
            </div>

            <div class="space-y-6">
                <div class="bg-gradient-to-br from-slate-800 to-slate-900 p-6 rounded-3xl text-white shadow-lg">
                    <h3 class="font-bold text-amber-400 mb-4 italic">๐ฅ ุงูุฃุฏูุงุฑ ุงูุฅูุตุงุฆูุฉ (ุชููุงุฆู)</h3>
                    <div id="knockoutStage" class="space-y-4">
                        </div>
                </div>

                <button onclick="concludeSeason()" class="w-full bg-green-500 hover:bg-green-600 text-white font-black py-5 rounded-3xl text-xl shadow-xl transform active:scale-95 transition-all">
                    ๐ ุฅููุงุก ุงูููุณู ูุชุชููุฌ ุงูุจุทู
                </button>
            </div>
        </div>
    </div>

<script>
    // ูุธุงู ุงูุจูุงูุงุช
    let players = {
        "ุฃุญูุฏ": { played: 0, w: 0, d: 0, l: 0, gf: 0, ga: 0, pts: 0, history: 0 },
        "ูุดุนู": { played: 0, w: 0, d: 0, l: 0, gf: 0, ga: 0, pts: 0, history: 0 },
        "ููุตู": { played: 0, w: 0, d: 0, l: 0, gf: 0, ga: 0, pts: 0, history: 0 }
    };

    const leagueMatches = [
        ["ุฃุญูุฏ", "ูุดุนู"], ["ูุดุนู", "ููุตู"], ["ููุตู", "ุฃุญูุฏ"],
        ["ูุดุนู", "ุฃุญูุฏ"], ["ููุตู", "ูุดุนู"], ["ุฃุญูุฏ", "ููุตู"]
    ];

    function start() {
        renderMatches();
        updateUI();
    }

    function renderMatches() {
        let html = '';
        leagueMatches.forEach((m, i) => {
            html += `
            <div class="flex items-center justify-between bg-slate-50 p-3 rounded-2xl border border-slate-100">
                <span class="w-20 font-bold text-slate-700">${m[0]}</span>
                <div class="flex gap-2 items-center">
                    <input type="number" class="w-12 h-10 text-center rounded-xl border-2 border-slate-200 focus:border-indigo-500 outline-none font-bold" oninput="calculate()">
                    <span class="text-slate-400 font-bold">:</span>
                    <input type="number" class="w-12 h-10 text-center rounded-xl border-2 border-slate-200 focus:border-indigo-500 outline-none font-bold" oninput="calculate()">
                </div>
                <span class="w-20 text-left font-bold text-slate-700">${m[1]}</span>
            </div>`;
        });
        document.getElementById('matchesList').innerHTML = html;
    }

    function calculate() {
        // ุชุตููุฑ ูุคูุช
        for (let p in players) {
            players[p].played=0; players[p].w=0; players[p].d=0; players[p].l=0;
            players[p].gf=0; players[p].ga=0; players[p].pts=0;
        }

        const inputs = document.querySelectorAll('#matchesList input');
        leagueMatches.forEach((m, i) => {
            let g1 = parseInt(inputs[i*2].value);
            let g2 = parseInt(inputs[i*2+1].value);

            if (!isNaN(g1) && !isNaN(g2)) {
                let p1 = m[0], p2 = m[1];
                players[p1].played++; players[p2].played++;
                players[p1].gf += g1; players[p1].ga += g2;
                players[p2].gf += g2; players[p2].ga += g1;

                if (g1 > g2) { players[p1].w++; players[p1].pts += 3; players[p2].l++; }
                else if (g2 > g1) { players[p2].w++; players[p2].pts += 3; players[p1].l++; }
                else { players[p1].d++; players[p2].d++; players[p1].pts += 1; players[p2].pts += 1; }
            }
        });
        updateUI();
    }

    function updateUI() {
        let sorted = Object.keys(players).sort((a,b) => {
            if(players[b].pts !== players[a].pts) return players[b].pts - players[a].pts;
            return (players[b].gf - players[b].ga) - (players[a].gf - players[a].ga);
        });

        // ุชุญุฏูุซ ุงูุฌุฏูู
        let tableHtml = '';
        sorted.forEach((name, i) => {
            let p = players[name];
            let diff = p.gf - p.ga;
            tableHtml += `
            <tr class="${i===0 ? 'bg-indigo-50' : ''}">
                <td class="p-4 font-bold">${i+1}</td>
                <td class="p-4 text-right font-black text-slate-700">${name}</td>
                <td class="p-4">${p.played}</td>
                <td class="p-4 text-green-600">${p.w}</td>
                <td class="p-4 text-slate-400">${p.d}</td>
                <td class="p-4">${p.gf}</td>
                <td class="p-4">${p.ga}</td>
                <td class="p-4 ${diff>=0?'text-blue-600':'text-red-500'}">${diff>0?'+'+diff:diff}</td>
                <td class="p-4 font-black text-indigo-600 text-xl">${p.pts}</td>
            </tr>`;
        });
        document.getElementById('leagueBody').innerHTML = tableHtml;

        // ุชุญุฏูุซ ุงูุณุฌู
        let hallHtml = '';
        for (let name in players) {
            hallHtml += `<div><p class="text-indigo-300 text-sm">${name}</p><p class="text-2xl font-black">${players[name].history}</p></div>`;
        }
        document.getElementById('hallOfFame').innerHTML = hallHtml;

        // ุชุญุฏูุซ ุงูุฅูุตุงุฆูุงุช
        document.getElementById('knockoutStage').innerHTML = `
            <div class="flex justify-between items-center bg-slate-700/50 p-3 rounded-xl">
                <span>ุงูููุญู (2 ุถุฏ 3):</span>
                <span class="font-bold text-amber-400">${sorted[1]} ร ${sorted[2]}</span>
            </div>
            <div class="flex justify-between items-center bg-slate-700/50 p-3 rounded-xl border-2 border-amber-500/30">
                <span>ุงูููุงุฆู ุงูุญูู:</span>
                <span class="font-bold text-amber-400">${sorted[0]} ร ๐</span>
            </div>
        `;
    }

    function concludeSeason() {
        let winner = prompt("ูู ูู ุงูุจุทู ุงูููุงุฆู ุงููุชูุฌ ุจุงููุฃุณุ");
        if (players[winner]) {
            players[winner].history++;
            alert("ุชู ุชุณุฌูู ุงูุจุทููุฉ ูู " + winner + " ูุชุตููุฑ ุงูููุณู ุงูุฌุฏูุฏ!");
            const inputs = document.querySelectorAll('input');
            inputs.forEach(inp => inp.value = '');
            calculate();
        } else {
            alert("ูุฑุฌู ูุชุงุจุฉ ุงุณู ุงููุงุนุจ ุจุดูู ุตุญูุญ (ุฃุญูุฏุ ูุดุนูุ ููุตู)");
        }
    }

    start();
</script>
</body>
</html>
